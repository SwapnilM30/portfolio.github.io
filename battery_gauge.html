<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Swapnil Meshram's portfolio showcasing projects in Autonomous & Undersea Systems Division.">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Swapnil Meshram</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="50x50" href="images/swapnil_fav.jpg" />

  <!-- Stylesheets -->
  <link rel="stylesheet" href="assets/css/main.css">
  <noscript><link rel="stylesheet" href="assets/css/noscript.css"></noscript>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

  <style>
    .image-label {
      text-align: center;
      font-size: 16px;
      margin-top: 10px;
      color: rgba(50, 50, 50);
    }

    .slider {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .slider .slide-content {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      margin: 20px 0;
    }

    .slider .slide-content img {
      max-width: 600px;
      width: 100%;
      height: auto;
      border: 1px solid rgba(50, 50, 50);
      padding: 6px;
    }

    @media (max-width: 600px) {
      .slider .slide-content img {
        padding: 5px;
      }
    }

    .image {
      cursor: pointer;
      transition: transform 0.25s ease;
    }

    .image:hover {
      transform: scale(1.01);
    }

    .fullscreen-image {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .fullscreen-image img.zoomable {
      max-width: 90%;
      max-height: 90%;
      cursor: grab;
      touch-action: none;
      transition: transform 0.1s ease-out;
    }

    .blurred-background {
      filter: blur(5px);
    }

    .close-button {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 32px;
      height: 32px;
      background: url('images/close-icon.png') no-repeat center center;
      background-size: cover;
      cursor: pointer;
      z-index: 10000;
    }

    .zoom-controls {
      position: absolute;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem 0.75rem;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 9999px;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10001;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .fullscreen-image:hover .zoom-controls,
    .zoom-controls:focus-within {
      opacity: 1;
    }

    .zoom-btn {
      background: transparent;
      border: none;
      padding: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #fff;
      font-size: 1rem;
    }

    .zoom-btn:hover {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 50%;
    }

    .project-text {
      text-align: justify;
      font-size: 1.175rem;
      line-height: 1.6;
    }
  </style>
</head>
<body class="is-preload">

<!-- Header -->
<header id="header">
  <a href="battery_gauge.html" class="title">From Circuits to Machines: My Robotics & Hardware Journey</a>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
    </ul>
  </nav>
</header>

<!-- Wrapper -->
<div id="wrapper">
  <section id="main" class="wrapper">
    <div class="inner">
      <h1 class="major">Battery Fuel Gauge</h1>

      <div class="slider">
        <div class="slide-content">
          <a href="images/project_2_1.png" class="image" onclick="showFullScreenImage('images/project_2_1.png'); return false;">
            <img src="images/project_2_1.png" alt="Battery Fuel Gauge (Top Side)">
          </a>
          <p class="image-label">Image 1: Battery Fuel Gauge (Top Side)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2_2.png" class="image" onclick="showFullScreenImage('images/project_2_2.png'); return false;">
            <img src="images/project_2_2.png" alt="Battery Fuel Gauge (Assembled)">
          </a>
          <p class="image-label">Image 2: Battery Fuel Gauge (Assembled)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2.png" class="image" onclick="showFullScreenImage('images/project_2.png'); return false;">
            <img src="images/project_2.png" alt="Battery Fuel Gauge (Testing)">
          </a>
          <p class="image-label">Image 3: Battery Fuel Gauge (Testing)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2_4.png" class="image" onclick="showFullScreenImage('images/project_2_4.png'); return false;">
            <img src="images/project_2_4.png" alt="Battery Fuel Gauge (LED Array)">
          </a>
          <p class="image-label">Image 4: Battery Fuel Gauge (LED Array)</p>
        </div>
      </div>

      <p class="project-text">
        This is a customized, surface-mount PCB designed for the evaluation of the ModelGauge m5 algorithm for lithium batteries using the MAX17263 fuel-gauge IC. This IC implements the advanced ModelGauge m5 algorithm, providing highly accurate estimations of time-to-empty and time-to-full for the battery pack.
      </p>
      <p class="project-text">
        This versatile PCB is equipped to monitor both single-cell and multi-cell battery packs and has an on-board LED array and thermistor measurement network. The LED array provides visual feedback on the state of charge of the LiPo battery pack and alerts the user when the battery charge drops below a certain threshold. The temperature of the battery pack is measured using the external thermistor measurement network.
      </p>
      <p class="project-text">
        Additionally, this system has been designed for integration with the 'PCB for Manual and Autonomous Robots'. This integration enables the accurate detection and monitoring of the relative state of charge within the LiPo battery pack of the robot, enhancing its operational efficiency and reliability.
      </p>
    </div>
  </section>
</div>

<!-- Footer -->
<footer id="footer" class="wrapper alt">
  <div class="inner">
    <ul class="menu">
      <li>&copy; 2023 Swapnil Meshram</li>
    </ul>
  </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script>
  $(document).ready(function () {
    $('.slider').slick({
      autoplay: true,
      dots: true,
      arrows: true,
      infinite: true,
      speed: 800,
      slidesToShow: 1,
      slidesToScroll: 1
    });
  });

  function showFullScreenImage(src) {
    const overlay = document.createElement('div');
    overlay.className = 'fullscreen-image';
    overlay.innerHTML = `
      <div class="close-button" onclick="closeFullScreen()"></div>
      <div class="zoom-controls">
        <button class="zoom-btn zoom-out"><i class="fas fa-minus"></i></button>
        <button class="zoom-btn zoom-reset"><i class="fas fa-search"></i></button>
        <button class="zoom-btn zoom-in"><i class="fas fa-plus"></i></button>
      </div>
      <img src="${src}" class="zoomable" alt="Zoomable Image" loading="lazy" />
    `;
    document.body.appendChild(overlay);
    document.getElementById('wrapper').classList.add('blurred-background');

    const img = overlay.querySelector('.zoomable');
    let scale = 1, offsetX = 0, offsetY = 0;
    img.style.transform = `translate(0px,0px) scale(${scale})`;

    overlay.addEventListener('wheel', e => {
      e.preventDefault();
      scale *= (e.deltaY < 0 ? 1.1 : 0.9);
      scale = Math.min(Math.max(scale, 0.5), 3);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    }, { passive: false });

    overlay.querySelector('.zoom-in').onclick = () => {
      scale = Math.min(scale * 1.2, 3);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    };
    overlay.querySelector('.zoom-out').onclick = () => {
      scale = Math.max(scale * 0.8, 0.5);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    };
    overlay.querySelector('.zoom-reset').onclick = () => {
      scale = 1; offsetX = 0; offsetY = 0;
      img.style.transform = `translate(0px,0px) scale(1)`;
    };

    let dragging = false, startX, startY;
    img.addEventListener('mousedown', e => {
      e.preventDefault();
      dragging = true;
      startX = e.clientX; startY = e.clientY;
      img.style.cursor = 'grabbing';
    });
    document.addEventListener('mousemove', e => {
      if (!dragging) return;
      const dx = e.clientX - startX;
      const dy = e.clientY - startY;
      startX = e.clientX; startY = e.clientY;
      offsetX += dx; offsetY += dy;
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    });
    document.addEventListener('mouseup', () => {
      dragging = false;
      img.style.cursor = 'grab';
    });

    function dist(t1, t2) {
      return Math.hypot(t1.clientX - t2.clientX, t1.clientY - t2.clientY);
    }

    let initialPinch = null, touchDrag = false, touchX, touchY;
    overlay.addEventListener('touchstart', e => {
      if (e.touches.length === 2) initialPinch = dist(e.touches[0], e.touches[1]);
      else if (e.touches.length === 1) {
        touchDrag = true;
        touchX = e.touches[0].clientX;
        touchY = e.touches[0].clientY;
      }
    }, { passive: false });

    overlay.addEventListener('touchmove', e => {
      if (e.touches.length === 2 && initialPinch) {
        e.preventDefault();
        const d = dist(e.touches[0], e.touches[1]);
        const ratio = d / initialPinch;
        scale = Math.min(Math.max(scale * ratio, 0.5), 3);
        initialPinch = d;
        img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
      } else if (e.touches.length === 1 && touchDrag) {
        e.preventDefault();
        const cx = e.touches[0].clientX, cy = e.touches[0].clientY;
        const dx = cx - touchX, dy = cy - touchY;
        touchX = cx; touchY = cy;
        offsetX += dx; offsetY += dy;
        img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
      }
    }, { passive: false });

    overlay.addEventListener('touchend', e => {
      if (e.touches.length < 2) initialPinch = null;
      if (e.touches.length === 0) touchDrag = false;
    });
  }

  function closeFullScreen() {
    const overlay = document.querySelector('.fullscreen-image');
    if (overlay) overlay.remove();
    document.getElementById('wrapper').classList.remove('blurred-background');
  }
</script>

</body>
</html>
