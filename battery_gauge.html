<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Swapnil Meshram's portfolio showcasing a custom-designed battery gauge system.">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Swapnil Meshram</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="50x50" href="images/swapnil_fav.jpg" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="assets/css/main.css">
    <noscript><link rel="stylesheet" href="assets/css/noscript.css"></noscript>

    <!-- FontAwesome for zoom icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />

    <!-- Slick Carousel CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

<style>

/* Fade transition for overlay image swaps */
.fullscreen-image img.zoomable {
  cursor: grab;
  touch-action: none;
  transform-origin: center center;
  transition: opacity 0.4s ease, transform 0.1s ease-out;
}

  /* --- Slick arrows (Font-Awesome chevrons) --- */
  .slick-prev,
  .slick-next {
    background: none;
    border: none !important;
    outline: 0;
    box-shadow: none;
    width: 50px;
    height: 50px;
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }
  .slick-prev { left: -60px; }
  .slick-next { right: -60px; }

  /* replace Slickâ€™s :before content */
  .slick-prev:before,
  .slick-next:before {
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    font-size: 48px;
    line-height: 1;
    color: rgba(50,50,50,0.9);
  }
  .slick-prev:before { content: "\f053"; }
  .slick-next:before { content: "\f054"; }

  .slick-prev:hover:before,
  .slick-next:hover:before {
    color: #283a8b;
  }

  /* Labels & citations */
  .image-label, .video-label {
    text-align: center;
    font-size: 16px;
    margin-top: 5px;
    color: rgba(50, 50, 50);
  }
  .image-citation, .video-citation {
    margin-top: 5px;
    font-size: 12px;
    text-align: center;
  }

  /* Slider layout */
  .slick-dots {
    position: absolute;
    bottom: 10px;
    width: 100%;
    text-align: center;
  }
  .slider {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .slider .slide-content {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    margin: 20px 0;
  }

  /* Custom hollow rings for Slick dots */
  .slick-dots li button {
    border: none !important;
    background: transparent !important;
    padding: 0;
    outline: none;
  }
  .slick-dots li button:before {
    content: '';
    display: inline-block;
    width: 12px;
    height: 12px;
    border: 2px solid rgba(50, 50, 50, 0.7);
    border-radius: 50%;
    margin: 0 6px;
    transition: background 0.2s ease, transform 0.2s ease;
  }
  .slick-dots li button:hover:before {
    transform: scale(1.2);
  }
  .slick-dots li.slick-active button:before {
    background: #283a8b;
    border-color: #283a8b;
  }

  .video-container {
    position: relative;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }
  .slider .slide-content img,
  .slider .slide-content video {
    max-width: 600px;
    width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
    border: 1px solid rgba(50, 50, 50);
    padding: 6px;
  }
  @media (max-width:600px) {
    .slider .slide-content img,
    .slider .slide-content video {
      padding: 5px;
    }
  }

  /* Hover scale */
  .image, .video {
    cursor: pointer;
    transition: transform 0.25s ease;
  }
  .image:hover, .video:hover {
    transform: scale(1.01);
  }

  /* Fullscreen overlay */
  .fullscreen-video, .fullscreen-image {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    touch-action: none;
  }
  .fullscreen-video video, .fullscreen-image img {
    max-width: 90%;
    max-height: 90%;
  }
  .blurred-background {
    filter: blur(5px);
  }
  .close-button {
    position: absolute;
    top: 25px; right: 25px;
    width: 32px; height: 32px;
    background: url('images/close-icon.png') no-repeat center center;
    background-size: cover;
    cursor: pointer;
    z-index: 10000;
  }

.zoom-controls {
  position: absolute;         /* take it out of the flow */
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;    /* vertical / horizontal padding */
  background: rgba(0,0,0,0.6);
  border-radius: 9999px;      /* fully rounded ends */
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10001;

  /* start hidden & fade-in on hover/focus */
  opacity: 0;
  transition: opacity 0.3s ease;
  }

  .fullscreen-image:hover .zoom-controls,
  .zoom-controls:focus-within {
    opacity: 1;
}

.zoom-btn {
  background: transparent;    /* remove per-button circle */
  border: none;
  width: auto; height: auto;  /* let padding define hit area */
  padding: 0.25rem;           /* clickâ€area around the icon */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #fff !important;     /* icon color */
  font-size: 1rem;            /* scale the icon up a bit */
}

.zoom-btn:hover {
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
}

  /* Responsive project text */
  .project-text {
    font-size: 1.175rem;
    line-height: 1.6;
  }
  @media (max-width:1280px) {
    .project-text { font-size: 1.1rem; }
  }
  @media (max-width:736px) {
    .project-text { font-size: 1rem; }
  }

  /* Play Icon */
  .play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 64px;
    height: 64px;
    background: url('images/play-icon.png') no-repeat center center;
    background-size: cover;
    opacity: 0.8;
    cursor: pointer;
  }
  .play-icon:hover {
    transform: translate(-50%, -50%) scale(1.2);
  }
  @media (max-width: 480px) {
    .play-icon { top: 50%; }
  }

  /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     ğ—¢ğ—©ğ—˜ğ—¥ğ—Ÿğ—”ğ—¬ ğ—”ğ—¥ğ—¥ğ—¢ğ—ª ğ—¥ğ—˜ğ—£ğ—¢ğ—¦ğ—œğ—§ğ—œğ—¢ğ—¡ğ—œğ—¡ğ—š
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .fullscreen-image .slick-prev,
  .fullscreen-video  .slick-prev {
    left:  calc((100% - 90%) / 2 + 0.5rem) !important;
    right: auto !important;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10001 !important;
  }
  .fullscreen-image .slick-next,
  .fullscreen-video  .slick-next {
    right: calc((100% - 90%) / 2 + 0.5rem) !important;
    left:  auto !important;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10001 !important;
  }

  /* Brighten the chevrons for contrast */
  .fullscreen-image .slick-prev:before,
  .fullscreen-image .slick-next:before,
  .fullscreen-video  .slick-prev:before,
  .fullscreen-video  .slick-next:before {
    color: #fff !important;
    font-size: 2rem;
    opacity: 0.85;
  }

</style>

</head>
<body class="is-preload">

<header id="header">
  <a href="index.html#three" class="title">From Circuit Boards to Robots: Projects in Embedded Systems & Robotics</a>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
    </ul>
  </nav>
</header>

<div id="wrapper">
  <section id="main" class="wrapper">
    <div class="inner">
      <h1 class="major">Battery Fuel Gauge</h1>

      <div class="slider">
        <div class="slide-content">
          <a href="images/project_2_1.png" class="image" onclick="showFullScreenImage('images/project_2_1.png', event); return false;">
            <img src="images/project_2_1.png" alt="Battery Fuel Gauge (Top Side)" loading="lazy">
          </a>
          <p class="image-label">Image 1: Battery Fuel Gauge (Top Side)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2_2.png" class="image" onclick="showFullScreenImage('images/project_2_2.png', event); return false;">
            <img src="images/project_2_2.png" alt="Battery Fuel Gauge (Assembled)" loading="lazy">
          </a>
          <p class="image-label">Image 2: Battery Fuel Gauge (Assembled)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2.png" class="image" onclick="showFullScreenImage('images/project_2.png', event); return false;">
            <img src="images/project_2.png" alt="Battery Fuel Gauge (Testing)" loading="lazy">
          </a>
          <p class="image-label">Image 3: Battery Fuel Gauge (Testing)</p>
        </div>

        <div class="slide-content">
          <a href="images/project_2_4.png" class="image" onclick="showFullScreenImage('images/project_2_4.png', event); return false;">
            <img src="images/project_2_4.png" alt="Battery Fuel Gauge (LED Array)" loading="lazy">
          </a>
          <p class="image-label">Image 4: Battery Fuel Gauge (LED Array)</p>
        </div>
      </div>

      <p class="text-justify project-text">
        This is a customized, surface-mount PCB designed for the evaluation of the ModelGauge m5 algorithm for lithium batteries using the MAX17263 fuel-gauge IC. This IC implements the advanced ModelGauge m5 algorithm, providing highly accurate estimations of time-to-empty and time-to-full for the battery pack.
      </p>
      <p class="text-justify project-text">
        This versatile PCB is equipped to monitor both single-cell and multi-cell battery packs and has an on-board LED array and thermistor measurement network. The LED array provides visual feedback on the state of charge of the LiPo battery pack and alerts the user when the battery charge drops below a certain threshold. The temperature of the battery pack is measured using the external thermistor measurement network.
      </p>
      <p class="text-justify project-text">
        Additionally, this system has been designed for integration with the 'PCB for Manual and Autonomous Robots'. This integration enables the accurate detection and monitoring of the relative state of charge within the LiPo battery pack of the robot, enhancing its operational efficiency and reliability.
      </p>
    </div>
  </section>
</div>

<!-- Footer -->
<footer id="footer" class="wrapper alt">
  <div class="inner">
    <ul class="menu">
      <li>&copy; 2016-2025 Swapnil Meshram</li>
    </ul>
  </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<script>
  // Initialize Slick
  $('.slider').slick({
    autoplay: true,
    dots: true,
    arrows: true,
    infinite: true,
    speed: 800,
    cssEase: 'cubic-bezier(0.7, 0, 0.3, 1)',
    slidesToShow: 1,
    slidesToScroll: 1
  });
  // grab the Slick instance for later
  const slickInst = $('.slider').slick('getSlick');

  // Full-screen video playback
  function playFullScreen(videoSrc) {
    const overlay = document.createElement('div');
    overlay.className = 'fullscreen-video';
    overlay.innerHTML = `
      <div class="close-button" onclick="closeFullScreen()"></div>
      <video src="${videoSrc}" controls autoplay playsinline></video>
    `;
    document.body.appendChild(overlay);
    document.body.classList.add('fullscreen-mode');
    document.getElementById('wrapper').classList.add('blurred-background');
  }

  // Full-screen image (or delegate video) with zoom/pan/pinch + carousel arrows + ESC to close
  function showFullScreenImage(src, evt) {
    if (evt) evt.preventDefault();

    // determine which slide we're on
    let currentIndex = slickInst.currentSlide;
    const slideEl = slickInst.$slides.eq(currentIndex);

    // detect a <video> tag on this slide
    const videoEl = slideEl.find('video');
    if (videoEl.length) {
      // if it's a video slide, hand off to the video overlay
      playFullScreen(videoEl.attr('src'));
      return;
    }

    // otherwise, build the image overlay
    const overlay = document.createElement('div');
    overlay.className = 'fullscreen-image';
    overlay.innerHTML = `
      <div class="close-button" onclick="closeFullScreen()"></div>

      <!-- Prev/Next arrows reusing Slickâ€™s classes -->
      <div class="slick-prev fs-arrow" aria-label="Previous"></div>
      <div class="slick-next fs-arrow" aria-label="Next"></div>

      <!-- Zoom controls -->
      <div class="zoom-controls">
        <button class="zoom-btn zoom-out"  aria-label="Zoom out"><i class="fas fa-minus"></i></button>
        <button class="zoom-btn zoom-reset" aria-label="Reset zoom"><i class="fas fa-search"></i></button>
        <button class="zoom-btn zoom-in"   aria-label="Zoom in"><i class="fas fa-plus"></i></button>
      </div>

      <!-- Image -->
      <img src="${src}" alt="" class="zoomable" loading="lazy"/>
    `;
    document.body.appendChild(overlay);
    document.body.classList.add('fullscreen-mode');
    document.getElementById('wrapper').classList.add('blurred-background');

    const img = overlay.querySelector('img.zoomable');
    img.style.transformOrigin = 'center center';
    let scale = 0.85, offsetX = 0, offsetY = 0;
    img.style.transform = `translate(0px,0px) scale(${scale})`;

    function loadSlide() {
      const slide = slickInst.$slides.eq(currentIndex);
      const newSrc = slide.find('img').attr('src');

    // fade out
    img.style.opacity = 0;
    // once faded out, swap the src and fade back in
    img.addEventListener('transitionend', function handler() {
    img.removeEventListener('transitionend', handler);
    img.src = newSrc;
    // ensure a tiny timeout so the browser sees the src change separately
    requestAnimationFrame(() => {
      img.style.opacity = 1;
        });
      }); 
    }
    
    // wire up Prev/Next arrows
    overlay.querySelector('.slick-prev').onclick = () => {
      currentIndex = (currentIndex - 1 + slickInst.slideCount) % slickInst.slideCount;
      loadSlide();
    };
    overlay.querySelector('.slick-next').onclick = () => {
      currentIndex = (currentIndex + 1) % slickInst.slideCount;
      loadSlide();
    };

    // ESC key to close
    function onKeyDown(e) {
      if (e.key === 'Escape') {
        document.removeEventListener('keydown', onKeyDown);
        closeFullScreen();
      }
    }
    document.addEventListener('keydown', onKeyDown);

    // Mouse-wheel zoom
    overlay.addEventListener('wheel', e => {
      e.preventDefault();
      scale *= (e.deltaY < 0 ? 1.1 : 0.9);
      scale = Math.min(Math.max(scale, 0.5), 3);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    }, { passive: false });

    // Zoom buttons
    overlay.querySelector('.zoom-in').onclick = () => {
      scale = Math.min(scale * 1.2, 3);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    };
    overlay.querySelector('.zoom-out').onclick = () => {
      scale = Math.max(scale * 0.8, 0.5);
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    };
    overlay.querySelector('.zoom-reset').onclick = () => {
      scale = 0.85; offsetX = 0; offsetY = 0;
      img.style.transform = `translate(0px,0px) scale(${scale})`;
    };

    // Drag-to-pan (mouse)
    let dragging = false, startX, startY;
    img.style.cursor = 'grab';
    img.addEventListener('mousedown', e => {
      e.preventDefault();
      dragging = true;
      startX = e.clientX; startY = e.clientY;
      img.style.cursor = 'grabbing';
    });
    document.addEventListener('mousemove', e => {
      if (!dragging) return;
      e.preventDefault();
      const dx = e.clientX - startX, dy = e.clientY - startY;
      startX = e.clientX; startY = e.clientY;
      offsetX += dx; offsetY += dy;
      img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
    });
    document.addEventListener('mouseup', () => {
      if (!dragging) return;
      dragging = false;
      img.style.cursor = 'grab';
    });
    overlay.addEventListener('mouseleave', () => {
      dragging = false;
      img.style.cursor = 'grab';
    });

    // Touch: pinch-to-zoom & pan
    function getDist(t1, t2) {
      return Math.hypot(t1.clientX - t2.clientX, t1.clientY - t2.clientY);
    }
    let initialPinchDist = null, touchDragging = false, touchStartX, touchStartY;
    overlay.addEventListener('touchstart', e => {
      if (e.touches.length === 2) {
        initialPinchDist = getDist(e.touches[0], e.touches[1]);
      } else if (e.touches.length === 1) {
        touchDragging = true;
        touchStartX = e.touches[0].clientX;
        touchStartY = e.touches[0].clientY;
      }
    }, { passive: false });
    overlay.addEventListener('touchmove', e => {
      if (e.touches.length === 2 && initialPinchDist !== null) {
        e.preventDefault();
        const newDist = getDist(e.touches[0], e.touches[1]);
        const ratio = newDist / initialPinchDist;
        scale = Math.min(Math.max(scale * ratio, 0.5), 3);
        initialPinchDist = newDist;
        img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
      } else if (e.touches.length === 1 && touchDragging) {
        e.preventDefault();
        const cx = e.touches[0].clientX, cy = e.touches[0].clientY;
        const dx = cx - touchStartX, dy = cy - touchStartY;
        touchStartX = cx; touchStartY = cy;
        offsetX += dx; offsetY += dy;
        img.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
      }
    }, { passive: false });
    overlay.addEventListener('touchend', e => {
      if (e.touches.length < 2) initialPinchDist = null;
      if (e.touches.length === 0) touchDragging = false;
    });
  }

  // Close handler (shared by video & image)
  function closeFullScreen() {
    const ov = document.querySelector('.fullscreen-image') || document.querySelector('.fullscreen-video');
    if (ov) ov.remove();
    document.body.classList.remove('fullscreen-mode');
    document.getElementById('wrapper').classList.remove('blurred-background');
  }
</script>

</body>
</html>
